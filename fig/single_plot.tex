\begin{tikzpicture}
\begin{axis}[
	% Plot dimensions
	width=3.4in,
	height=2in,
	% Set font sizes to match your figure caption
	tick label style={font=\footnotesize},
	label style={font=\footnotesize},
	legend style={font=\footnotesize},
	% Axis labels, limits, tick marks, and grid lines. Limits and ticks will be auto-configurd if commented out.
	xlabel={Time (s)},
	ylabel={Amplitude (V)},
	xmin=0, xmax=2,
	ymin=-2, ymax=2,
	% xtick={-8, -4, 0, 4, 8},
	% ytick={-5, 0, 5},
	ymajorgrids=true,
	xmajorgrids=true,
	grid style=dashed,
	% Configure the legend
	% This sets the legend at the top center, just outside the plot. "Anchor" means that the southern point (i.e. bottom center) of the legend bounding box is set to the given coordinates.
	legend style={at={(0.50,1.00)}, anchor=south}, 
	% If -1, it will use a single row and as many columns as needed.
	legend columns=2,
	% Text alignment
	legend cell align={left},
	% Hide the border around the legend
	legend style={draw=none},
]
\addplot[color=black,mark=none,style=very thick] table[col sep=comma,header=true,x=x,y=sq] {data/data_prep_example.csv};
\addplot[color=blue,mark=none,style=very thick] table[col sep=comma,header=true,x=x,y=sq1] {data/data_prep_example.csv};
\addplot[color=red,mark=none,style=very thick] table[col sep=comma,header=true,x=x,y=sq3] {data/data_prep_example.csv};
\addplot[color=black,mark=none,style=densely dashed] table[col sep=comma,header=true,x=x,y=sq5] {data/data_prep_example.csv};
\legend{Square wave\cite{Muratore2019}\phantom{--},Fundamental\phantom{--},Three harmonics\phantom{--},Five harmonics}
\end{axis}
\end{tikzpicture}